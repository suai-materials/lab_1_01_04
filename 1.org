* Лабораторная работа № 1


Цель работы:

- изучить структуру эмулятора микро-ЭВМ;
- изучить состав, назначение и внутреннюю структуру отдельных устройств,
  входящих в МПС;
- закрепить полученные навыки по разработке простейших программ на языке
  ассемблера микропроцессора КР580ВМ80.


#+CAPTION: Структурная схема KP580ВМ80
[[file:images/20230305-212134_screenshot.png]]


** Индивидуальное задание

Провести командный цикл. Произвести запуск МПС в потактовом режиме. Охарактеризовать первую поступившую в РК команду используя
коды команд микропроцессора.

0011 1010 - 3A

# A0  A16

Прямая загрузка аккумулятора. Переслать в регистр - аккумулятор содержимое ячейки памяти, адрес которой во 2-ом и 3-ем байтах команды.

Адрес в памяти: 1000 0000 - 80 -> то есть чтение из адреса 80



#+begin_src emacs-lisp :exports none
(defmath passIndex (x)
  (- x 1)
)
#+end_src

#+RESULTS:
: calcFunc-passIndex

#+CAPTION: Описание состав и назначения основных узлов МП
#+ATTR_LATEX: :environment longtable :align |p{1cm}|p{3cm}|p{3cm}|p{3cm}|p{3cm}|p{3cm}|
| Узлы | Операционная часть            | Управляющая часть                                                                     | Блок регистров                                              | Блок обмена                |
|------+-------------------------------+---------------------------------------------------------------------------------------+-------------------------------------------------------------+----------------------------|
|    1 | АЛУ                           | Устройство управления, схема десятичной коррекции, дешифратор команд, регистор флагов | Регистр временного хранения, регистр аккумулятор            | -                          |
|    2 | Схема десятичной корректирует | АЛУ                                                                                   | -                                                           | -                          |
|    3 | Схема инкремента/дикремента   | УУ                                                                                    | Регистор общего назначения, указатель стека, счетчик команд | Буфер данных, буфер адреса |
|    4 | Дешифратор                    | УУ                                                                                    | Регистор команд                                             | Буфер данных               |
|    5 | Мультплексор, демультиплексор | УУ                                                                                    | РОВ, УС, СК, РА                                             | Буфер данных, буфер адреса |
#+TBLFM: $1=passIndex(@#)

#+CAPTION: Сигналы управления, вырабатываемые формирователем сигналов управления (ФСУ)
#+ATTR_LATEX: :environment longtable :align |p{2cm}|p{10cm}|p{4cm}|
| Номер разряда регистра БСП | Байт состояния процессора (БСП) (назначение входных сигналов) | Системные управляющие сигналы |
|----------------------------+---------------------------------------------------------------+-------------------------------|
|                          0 | М8, М10                                                       | ПЗПР, Прерывание              |
|                          1 | М1, М2, М4, М6, М8, М9, М10                                   | Запись или вывод              |
|                          2 | М4, М5                                                        | Стек                          |
|                          3 | М9, М10                                                       | Останов, Прерывание           |
|                          4 | М7                                                            | ЗПЗУ                          |
|                          5 | М1, М8, М10                                                   | ЧТЗУ, Прерывание              |
|                          6 | М6                                                            | ЧТВУ                          |
|                          7 | М1, М2, М4, М9                                                | ЧТЗУ                          |
#+TBLFM: $1=passIndex(@#) - 1


Контрольные вопросы:

1. Какова разрядность ШД, если ША - 8 бит, а объем памяти составляет 512 байт?

   8 бит в ША означают, что у нас есть всего 2^8 = 256 возможных адресов

   Разделим весь объем, на кол-во ячеек памяти(256)

   $$ (512 \cdot 8) / (2^8) = \frac{2 ^ 9 \cdot 2 ^ 3}{2 ^ 8}  = 2 ^ 4 = 16 $$

   => 16 бит = 2 байта

   Отсюда разрядность ШД должна быть не менее 2 байт
   
2. Какую роль выполняет счётчик команд в МП?

   Хранит номер команды, которую следует выполнить.

3. Какие регистры образуют сверхоперативную память МП?

   Регистры общего назначения.

4. Сколько признаков результата может сформировать АЛУ?

   5 признаков

5. Какую роль в МП играют регистры W и Z?

   Для использования процессором

6. Сколько выходов имеет дешифратор команд?

   Дешифратор команд имеет $2^{n}$ выводов, где $n$ - количество адресных разрядов.
7. Какую роль выполняет схема десятичной коррекции?

   Схема десятичной коррекции обеспечивает потетрадную десятичную коррекцию результата при двоично-десятичных операциях.

8. Для чего служит и в какие моменты времени выдаётся сигнал «СИНХРО»?

   Сигнал СИНХРО служит для синхронизации байта состояния машинного цикла МП.
   Появляется в 1-ом и 2-ом такте машинного цикла.
   В это время МП выставляет на ШД БСП и записывает в регистр БСП(потому что БСП будет присутствовать на ШД только во время сигнала СИНХРО)
   Сигнал СИНХРО также свидетельствует о начале машинного цикла.

9. Для чего служит и в какие моменты времени выдаётся на ШД БСП?

   Выдаётся во время сигнала СИНХРО, определеят текущий цикл.
   
10. Для чего служит и в какие моменты времени выдаётся сигнал «М1»?

	Во время чтения первого байта команды, если команда состоит из одного байта, то она сразу же выполняется.

	Выполняется во время первого машинного цикла.
